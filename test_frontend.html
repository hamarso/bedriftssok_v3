<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Frontend</title>
</head>
<body>
    <h1>Test Frontend</h1>
    
    <form id="searchForm">
        <input type="text" id="bransjekode" value="70.220" placeholder="NACE-kode">
        <input type="number" id="min_ansatte" value="0" min="0">
        <button type="submit">🔍 Start søk</button>
    </form>
    
    <div id="resultsCard" style="display: none;">
        <div id="resultsCount"></div>
        <div id="loading" style="display: none;">Laster...</div>
        <div id="error" style="display: none;"></div>
        <div id="resultsTable" style="display: none;">
            <table id="resultsBody"></table>
        </div>
    </div>
    
    <script>
        // Test data
        const testData = {
            selskaper: [
                {
                    organisasjonsnummer: "123456789",
                    navn: "Test Bedrift AS",
                    poststed: "Oslo",
                    antall_ansatte: "25",
                    nace_kode: "70.220",
                    adresse: "Testveien 1",
                    telefon: "12345678"
                }
            ],
            antall: 1,
            page: 0,
            page_size: 100,
            total_pages: 1,
            has_next: false,
            has_previous: false
        };
        
        // Test søkefunksjon
        document.getElementById('searchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('🔍 Søk startet!');
            
            // Vis resultater
            const resultsCard = document.getElementById('resultsCard');
            resultsCard.style.display = 'block';
            
            // Simuler API response
            setTimeout(() => {
                displayResults(testData.selskaper, testData.antall, testData);
            }, 1000);
        });
        
        function displayResults(selskaper, antall, paginationData) {
            console.log('🎯 displayResults kalt med:', selskaper, antall, paginationData);
            
            const resultsCount = document.getElementById('resultsCount');
            const resultsTable = document.getElementById('resultsTable');
            const resultsBody = document.getElementById('resultsBody');
            
            resultsCount.textContent = `${antall} bedrifter funnet`;
            resultsTable.style.display = 'block';
            
            resultsBody.innerHTML = '';
            
            selskaper.forEach((selskap, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${selskap.organisasjonsnummer}</td>
                    <td>${selskap.navn}</td>
                    <td>${selskap.poststed}</td>
                    <td>${selskap.antall_ansatte}</td>
                    <td>${selskap.nace_kode}</td>
                    <td>${selskap.adresse}</td>
                    <td>${selskap.telefon}</td>
                `;
                resultsBody.appendChild(row);
            });
            
            console.log('✅ Resultater vist');
        }
    </script>
</body>
</html>
